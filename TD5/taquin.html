<!DOCTYPE html>

<html lang="fr">
 <head>
  <title>Images et SlideShow</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <!--
 <script type="text/javascript" src="./script2.js"> </script>
-->
</head>

<body>
  <div id="titre">Jeu de taquin</div>
  <div id="interface">
    <label for="form-large">Largeur (nb cases) : </label>
    <input id="form-large" type="number" value="2" min="2" max="10" size="4" /><br/>
    <label for="form-haut">Hauteur (nb cases) : </label>
    <input id="form-haut" type="number" value="2" min="2" max="10" size="4" /><br/>
    <label for="form-taille">Taille de la case : </label>
    <input id="form-taille" type="number" value="10" min="5" max="20" /><br/>
    <input id="form-nouveau" type="button" value="Nouveau plateau" />
  </div>
  <div id="presentation">Ordonnez les cases de la plus petite valeur à la plus grande, de gauche à droite puis de bas en haut. La case en haut à gauche devant être la case sans numéro. Celle en bas à droite aura la plus grande valeur.</div>
  <div id="jeu"><div class="case" width="200"><h1>2</h1></div></div>
  <p>Bravo !!</p>
</body>
	<script type="text/javascript">
		
		class Coordonnees{
			 constructor(abs,ord){
				 this.abs = abs;
				 this.ord = ord;
			 }
		 }
		
		function initialisation(){
			$(document).ready(function(){
				var largeur = $("#form-large").value;
				var hauteur = $("#form-haut").value;
				var taille = $("#form-taille").value;
				var grille = new Array(largeur*hauteur-1);
				initialiseLesValeurs(grille);
				melangerLesValeurs(grille);
				afficherPlateau(grille,largeur,hauteur,taille);
			});
		}
		
		function afficherPlateau(grille,largeur,hauteur,taille){
			$(document).ready(function(){
				$(".case").style["width"] = "300px";
			});
		}
		
		function initialiseLesValeurs(tableau){
			for(var i = 0; i < tableau.length; i++){
				tableau[i] = i;
			}
		}
		
		//Pour mélanger les éléments, on fait length*2 permutations dans le tableau. Cela permet d'avoir un algorithme rapide et simple, même si le mélange n'est pas parfait (mais reste correct)
		function melangerLesValeurs(tableau){
			var len = tableau.length;
			for(var i = 0; i < len*2; i++){
				//Sélection de deux cases aléatoires
				var elem1 = Math.floor(Math.random()*len);
				var elem2 = Math.floor(Math.random()*len);
				//Permutation des deux cases
				var buffer = tableau[elem1];
				tableau[elem1] = tableau[elem2];
				tableau[elem2] = buffer;
			}
		}
		
		function obtenirLElement(grille, valeur){
			for(var i = 0; i < grille.length; i++){
				for(var j = 0; j < grille[i].length; j++){
					if(grille[i][j] == valeur)
						return new Coordonnees(i,j);
				}
			}
		}
		
		function estVictoire(grille){
			var curPos = grille[0][0];
			var res = true;
			for(var i = 0; i < grille.length; i++){
				for(var j = 0; j < grille[i].length; j++){
					if(grille[i][j] < curPos)
						res = false;
					curPos = grille[i][j];
				}
			}
			return res;
		}
		
  </script>
</html>




