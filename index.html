<!DOCTYPE html>
<html>

<head>
  <title> exercice 1 </title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css" />
	<meta name="description" content="Free Web tutorials">
	<meta name="author" content="PERES Richard">
	<meta name="author" content="RIGAUT François">
	<meta name="keywords" content="HTML,CSS,XML,JavaScript">

</head>

<body id="body">
  <h1 id="titre" class="firstOrLast">
    Salut
  </h1>

  <ul id="menu">

    <li>
      <a href="#">accueil</a>
    </li>

    <li>
      <a href="#">membres</a>
      <ul>
        <li><a href="#">connexion</a></li>
        <li><a href="#">inscription</a></li>
      </ul>
    </li>

    <li>
      <a href="#">images</a>
      <ul>
        <li>
          <a href="#">photos</a>
          <ul>
            <li><a href="#">catégorie 1</a></li>
            <li><a href="#">catégorie 2</a></li>
          </ul>

        </li>
        <li>
          <a href="#">vidéos</a>
        </li>
      </ul>
    </li>

    <li>
      <a href="#">téléchargements</a>
      <ul>
        <li><a href="#">vidéos</a></li>
        <li><a href="#">musiques</a></li>
      </ul>
    </li>

    <li>
      <a href="#">plus</a>
      <ul>
        <li><a href="#">forum</a></li>
        <li><a href="#">liens</a></li>
        <li><a href="#">nous contacter</a></li>
        <li><a href="#">team</a></li>
        <li><a href="#">recherche</a></li>
      </ul>
    </li>

  </ul>

  <h2 class="firstOrLast">
    h2
  </h2>
  <h2 class="firstOrLast">
    2222
  </h2>
  <h3 class="firstOrLast">

  </h3>
  <h3 class="firstOrLast">

  </h3>
  <h3 class="firstOrLast">
    zzzzz
  </h3>
  <button type="button" onclick="inverseTexte()">Swap</button>
  <div>
    <p>
      DEVA VU IVE JUST <span>BEEN IN THIS PLACE </span>BEFORE
    </p>
  </div>
  <div>
    <p>
      HIGHER ON THE <span>STREET</span>
    </p>
  </div>

  <input type="text" placeholder="input" id="input" oninput="validation()" class="blanc" />
	<div id="date_modif"></div>
	
	<p id="nbjours"></p>
	
</body>


<script type="text/javascript">
  //window.addEventListener("load", defTitre1());
  //window.addEventListener("load", defTitre2());
  //window.addEventListener("load", defTitre3());
	window.addEventListener("load", defTitre4());
	window.addEventListener("load", datemodif());
	window.addEventListener("load", diffdate());

  function defTitre1() {
    document.title = document.getElementById("titre").innerHTML;
  }

  function defTitre2() {
    document.title = document.getElementsByTagName("h2")[0].innerHTML;
  }

  function defTitre3() {
    if (document.getElementsByTagName("h2").length != 0) {
      document.title = document.getElementsByTagName("h2")[document.getElementsByTagName("h2").length - 1].innerHTML;
    } else {
      document.title = "PERES Richard - RIGAUT François";
    }
  }

  function defTitre4() {
    if (document.getElementsByClassName("firstOrLast").length != 0) {
      if (document.getElementsByClassName("firstOrLast").length % 2 == 0) {
        document.title = document.getElementsByClassName("firstOrLast")[0].innerHTML;
      } else {
        document.title = document.getElementsByClassName("firstOrLast")[document.getElementsByClassName("firstOrLast").length - 1].innerHTML;
      }
    }
  }

  function inverseTexte() {
		var div1 = document.getElementsByTagName("p")[0].innerHTML;
		var div2 = document.getElementsByTagName("p")[1].innerHTML;
		document.getElementsByTagName("p")[0].innerHTML = div2;
		document.getElementsByTagName("p")[1].innerHTML = div1;

  }

  function validation() {
    var input = document.getElementById("input")
    console.log(input.value)
    if (input.value == "")
      input.className = "blanc";
    else {
      var val = input.value
      if (!isNaN(val))
        input.className = "vert";
      else
        input.className = "rouge";
    }
  }


  //document.getElementById("body").innerHTML = '<aside></aside>';

	
	function datemodif(){
		var date = new Date();
		var metas = document.getElementsByTagName('meta');
		var done = false;
		for (var i=0; i<metas.length; i++) { 
			if (metas[i].getAttribute("name") == "author" && !done) { 
				var auteur = metas[i].getAttribute("content");
				//done = true; //Commenter pour avoir le dernier de la liste, décommenter pour avoir le premier
			} 
	 	} 
		document.getElementById("date_modif").innerHTML = "Dernière modification le " + jour(date.getDate()) + "/" + date.getMonth()+1 + "/" + date.getFullYear() + " par " + auteur;
	}
	
	function jour( j) {
    switch (j) {
        case 1 : 
            return "Lundi";
        break;
        case 2 : 
            return "Mardi";
        break;
        case 3 : 
            return "Mercredi";  
        break;
        case 4 : 
            return "Jeudi";
        break;
        case 5 : 
            return "Vendredi";
        break;
        case 6 : 
            return "Samedi";
        break;
        case 0 : 
            return "Dimanche";
        break;
        default : 
            return "le jour n'existe pas";
    }
}
	
	function diffdate(){
		d1 = new Date();
		d2 = new Date(2018,06,19);
		var nbjoursmilli = d2.getTime() - d1.getTime();
		var nbjours = Math.ceil(nbjoursmilli/(1000*60*60*24));
		if(nbjours == 1 || nbjours == 0){
			var stringjour = "jour";
		}
		else{
			var stringjour = "jours";
		}
		document.getElementById("nbjours").innerHTML = "Il reste " + nbjours + " " + stringjour + " avant le 19 juillet 2018.";
	}
	
</script>

</html>
