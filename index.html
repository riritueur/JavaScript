<!DOCTYPE html>
<html>

<head>
  <title> exercice 1 </title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="Free Web tutorials">
  <meta name="author" content="PERES Richard">
  <meta name="author" content="RIGAUT François">
  <meta name="keywords" content="HTML,CSS,XML,JavaScript">

</head>

<body id="body">
  <h1 id="titre" class="firstOrLast">
    Salut
  </h1>

  <aside>
    <div id="menu">
      <ul>
        <li><a href="#" id="it1">Item 1</a>
          <ul>
            <li><a href="#">Sous-item 1</a></li>
            <li><a href="#">Sous-item 2</a></li>
            <li><a href="#">Sous-item 3</a></li>
          </ul>
        </li>

        <li><a href="#" id="it2">Item 2</a>
          <ul>
            <li><a href="#">Sous-item 1</a></li>
            <li><a href="#">Sous-item 2</a></li>
            <li><a href="#">Sous-item 3</a></li>
          </ul>
        </li>
        <li><a href="#" id="it3" onmouseover="menu()">Item 3</a>
          <ul>
            <li><a href="#">Sous-item 1</a></li>
            <li><a href="#">Sous-item 2</a></li>
            <li><a href="#">Sous-item 3</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <br/>
  </aside>

  <h2 class="firstOrLast">
    h2
  </h2>
  <h2 class="firstOrLast">
    2222
  </h2>
  <h3 class="firstOrLast">

  </h3>
  <h3 class="firstOrLast">

  </h3>
  <h3 class="firstOrLast">
    zzzzz
  </h3>
  <button type="button" onclick="inverseTexte()">Swap</button>
  <div>
    <p>
      DEVA VU IVE JUST <span>BEEN IN THIS PLACE </span>BEFORE
    </p>
  </div>
  <div>
    <p>
      HIGHER ON THE <span>STREET</span>
    </p>
  </div>

  <input type="text" placeholder="input" id="input" oninput="validation()" class="blanc" />
  <div id="date_modif"></div>

  <p id="nbjours"></p>

  <p id="horloge"></p>

  <div id="grafHorloge"></div>

</body>


<script type="text/javascript">
  //window.addEventListener("load", defTitre1());
  //window.addEventListener("load", defTitre2());
  //window.addEventListener("load", defTitre3());
  window.addEventListener("load", defTitre4());
  window.addEventListener("load", datemodif());
  window.addEventListener("load", diffdate());
  window.addEventListener("load", sethorloge1());
  window.addEventListener("load", majhorloge1());
  /*window.addEventListener("load", majhorloge2());*/
  window.addEventListener("load", setGrafH());
  window.addEventListener("load", majGrafH());

  function defTitre1() {
    document.title = document.getElementById("titre").innerHTML;
  }

  function defTitre2() {
    document.title = document.getElementsByTagName("h2")[0].innerHTML;
  }

  function defTitre3() {
    if (document.getElementsByTagName("h2").length != 0) {
      document.title = document.getElementsByTagName("h2")[document.getElementsByTagName("h2").length - 1].innerHTML;
    } else {
      document.title = "PERES Richard - RIGAUT François";
    }
  }

  function defTitre4() {
    if (document.getElementsByClassName("firstOrLast").length != 0) {
      if (document.getElementsByClassName("firstOrLast").length % 2 == 0) {
        document.title = document.getElementsByClassName("firstOrLast")[0].innerHTML;
      } else {
        document.title = document.getElementsByClassName("firstOrLast")[document.getElementsByClassName("firstOrLast").length - 1].innerHTML;
      }
    }
  }

  function inverseTexte() {
    var div1 = document.getElementsByTagName("p")[0].innerHTML;
    var div2 = document.getElementsByTagName("p")[1].innerHTML;
    document.getElementsByTagName("p")[0].innerHTML = div2;
    document.getElementsByTagName("p")[1].innerHTML = div1;

  }

  function validation() {
    var input = document.getElementById("input")
    console.log(input.value)
    if (input.value == "")
      input.className = "blanc";
    else {
      var val = input.value
      if (!isNaN(val))
        input.className = "vert";
      else
        input.className = "rouge";
    }
  }


  //document.getElementById("body").innerHTML = '<aside></aside>';


  function datemodif() {
    var date = new Date();
    var metas = document.getElementsByTagName('meta');
    var done = false;
    for (var i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute("name") == "author" && !done) {
        var auteur = metas[i].getAttribute("content");
        //done = true; //Commenter pour avoir le dernier de la liste, décommenter pour avoir le premier
      }
    }
    document.getElementById("date_modif").innerHTML = "Dernière modification le " + jour(date.getDate()) + "/" + date.getMonth() + 1 + "/" + date.getFullYear() + " par " + auteur;
  }

  function jour(j) {
    switch (j) {
      case 1:
        return "Lundi";
        break;
      case 2:
        return "Mardi";
        break;
      case 3:
        return "Mercredi";
        break;
      case 4:
        return "Jeudi";
        break;
      case 5:
        return "Vendredi";
        break;
      case 6:
        return "Samedi";
        break;
      case 0:
        return "Dimanche";
        break;
      default:
        return "le jour n'existe pas";
    }
  }
	
	function diffdate(){
		d1 = new Date();
		d2 = new Date(2018,06,19);
		var nbjoursmilli = d2.getTime() - d1.getTime();
		var nbjours = Math.ceil(nbjoursmilli/(1000*60*60*24));
		if(nbjours == 1 || nbjours == 0){
			var stringjour = "jour";
		}
		else{
			var stringjour = "jours";
		}
		document.getElementById("nbjours").innerHTML = "Il reste " + nbjours + " " + stringjour + " avant le 19 juillet 2018.";
	}
	
	
	function sethorloge1(){
		var d = new Date();
		document.getElementById("horloge").innerHTML = format(d.getHours()) + ":" + format(d.getMinutes()) + ":" + format(d.getSeconds());
	}
	
	function sethorloge2(){
		var d = new Date();
		document.getElementById("horloge").innerHTML = format(d.getHours()) + ":" + format(d.getMinutes()) + ":" + format(d.getSeconds());
		majhorloge2();
	}
	
	function majhorloge1(){
		window.setInterval(sethorloge1,1000);
	}
	
	function majhorloge2(){
		window.setTimeout(sethorloge2,1000);
	}
	
	function format(time){
		if(time < 10)
			time = "0"+time;
		return time;
	}
	
	function setGrafH(){
		var d = new Date();
		var heure = d.getHours();
		var heureimg1 = Math.floor(heure / 10);
		var heureimg2 = heure - heureimg1*10;
		var minute = d.getMinutes();
		var minuteimg1 = Math.floor(minute / 10);
		var minuteimg2 = minute - minuteimg1*10;
		var secondes = d.getSeconds();
		var secondesimg1 = Math.floor(secondes / 10);
		var secondesimg2 = secondes - secondesimg1*10;
		
		document.getElementById("grafHorloge").innerHTML = "<img src=\"images/" + heureimg1 + ".gif\" />" + "<img src=\"images/" + heureimg2 + ".gif\" />:" + "<img src=\"images/" + minuteimg1 + ".gif\" />" + "<img src=\"images/" + minuteimg2 + ".gif\" />:" + "<img src=\"images/" + secondesimg1 + ".gif\" />" + "<img src=\"images/" + secondesimg2 + ".gif\" />";
	}
	
	function majGrafH(){
		window.setInterval(setGrafH, 1000);
	}


  function sethorloge1() {
    var d = new Date();
    document.getElementById("horloge").innerHTML = d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds();
  }

  function sethorloge2() {
    var d = new Date();
    document.getElementById("horloge").innerHTML = d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds();
    majhorloge2();
  }

  function majhorloge1() {
    window.setInterval(sethorloge1, 1000);
  }

  function majhorloge2() {
    window.setTimeout(sethorloge2, 1000);
  }

  function setGrafH() {
    var d = new Date();
    var heure = d.getHours();
    var heureimg1 = Math.floor(heure / 10);
    var heureimg2 = heure - heureimg1 * 10;
    var minute = d.getMinutes();
    var minuteimg1 = Math.floor(minute / 10);
    var minuteimg2 = minute - minuteimg1 * 10;
    var secondes = d.getSeconds();
    var secondesimg1 = Math.floor(secondes / 10);
    var secondesimg2 = secondes - secondesimg1 * 10;

    document.getElementById("grafHorloge").innerHTML = "<img src=\"images/" + heureimg1 + ".gif\" />" + "<img src=\"images/" + heureimg2 + ".gif\" />:" + "<img src=\"images/" + minuteimg1 + ".gif\" />" + "<img src=\"images/" + minuteimg2 + ".gif\" />:" + "<img src=\"images/" + secondesimg1 + ".gif\" />" + "<img src=\"images/" + secondesimg2 + ".gif\" />";
  }

  function majGrafH() {
    window.setInterval(setGrafH, 1000);
  }

  function menu() {
    alert("menu");
    document.getElementById("it1").innerHTML = "yolal";
  }
	
</script>

</html>
