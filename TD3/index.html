<!DOCTYPE html>
<html lang="fr">

<head>
  <title>Jeu de taquin</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body onload="init()">
  <div id="jeu">
    <div style="top:0px;left:0px;" class="case">
      <h1>6</h1>
    </div>
    <div style="top:0px;left:102px;" class="case">
      <h1>1</h1>
    </div>
    <div style="top:0px;left:204px;" class="case">
      <h1>7</h1>
    </div>
    <div style="top:102px;left:0px;" class="case">
      <h1>3</h1>
    </div>
    <div style="top:102px;left:102px;" class="case">
      <h1>4</h1>
    </div>
    <div style="top:102px;left:204px;" class="case">
      <h1>8</h1>
    </div>
    <div style="top:204px;left:0px;" class="case">
      <h1>5</h1>
    </div>
    <div style="top:204px;left:102px;" class="case">
      <h1>2</h1>
    </div>
    <div style="top:204px;left:204px;" class="case vide">
      <h1> </h1>
    </div>
  </div>
</body>

<!-- <script type="text/javascript" src="scripts.js"> -->
<script type="text/javascript">
  
  window.addEventListener("load", init())

  function init() {
    var elements = document.querySelectorAll(".case");
		elements.forEach(function(elem){
			elem.addEventListener('click', select, false);
			//console.log(elem.outerHTML);
		});
  }
	
	function select(){
      
		var posX = this.style.left
		var posY = this.style.top
        
        posX = posX.substring(0, posX.length-2)
        posY = posY.substring(0, posY.length-2)
      
        posX = parseInt(posX)
        posY = parseInt(posY)
      
        //console.log(posX  + " " + posY)

      
        var elements = document.querySelectorAll(".case");
        elements.forEach(function(elem){
          
          
          var posXT = elem.style.left
          var posYT = elem.style.top
          
          posXT = posXT.substring(0, posXT.length-2)
          posYT = posYT.substring(0, posYT.length-2)
          
          posXT = parseInt(posXT)
          posYT = parseInt(posYT)
          
          console.log(posXT + " "+posYT)
          
          // Cas en haut
          if(posXT == posX && posYT == posY-102)
            elem.className = "caseR"
          
          // Cas à droite
          if(posXT == posX+102 && posYT == posY)
            elem.className = "caseO"
          
          // Cas en bas
          if(posXT == posX && posYT == posY+102)
            elem.className = "caseJ"
          
          // Cas à gauche
          if(posXT == posX-102 && posYT == posY)
            elem.className = "caseV"
            
        });        
	}

</script>

</html>
